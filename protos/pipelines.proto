syntax = "proto3";

import "google/protobuf/any.proto";

package ficus;

message Pipeline {
    repeated PipelinePartBase parts = 1;
}

message PipelinePartBase {
    oneof part {
        PipelinePart defaultPart = 1;
        ParallelPipelinePart parallelPart = 2;
    }
}

message PipelinePart {
    string name = 1;
    PipelinePartConfiguration configuration = 2;
}

message PipelinePartConfiguration {
    repeated ConfigurationValue configurationParameters = 1;
}

message ConfigurationValue {
    string name = 1;
    google.protobuf.Any value = 2;
}

message ParallelPipelinePart {
    repeated PipelinePartBase pipelineParts = 1;
}

message ParallelPipelineParts {
    repeated ParallelPipelinePart pipeline = 1;
}
